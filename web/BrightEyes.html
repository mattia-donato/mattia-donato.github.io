<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Introduction &mdash; BrightEyes-TTM 0.1 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Getting started" href="gettingstarted.html" />
    <link rel="prev" title="Welcome to BrightEyes-TTM’s documentation!" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> BrightEyes-TTM
          </a>
              <div class="version">
                0.1.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#time-tagging">Time-tagging</a></li>
<li class="toctree-l2"><a class="reference internal" href="#main-components">Main components</a></li>
<li class="toctree-l2"><a class="reference internal" href="#specifications">Specifications</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="gettingstarted.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="hardware.html">Hardware</a></li>
<li class="toctree-l1"><a class="reference internal" href="datareceiver.html">Data Receiver</a></li>
<li class="toctree-l1"><a class="reference internal" href="dataprocessing.html">Data processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="architecture.html">FPGA architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="credits.html">Authors</a></li>
<li class="toctree-l1"><a class="reference internal" href="credits.html#acknowledgements">Acknowledgements</a></li>
<li class="toctree-l1"><a class="reference internal" href="credits.html#copyright">Copyright</a></li>
<li class="toctree-l1"><a class="reference internal" href="credits.html#license">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="credits.html#contact-us">Contact us</a></li>
<li class="toctree-l1"><a class="reference internal" href="credits.html#references">References</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">BrightEyes-TTM</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Introduction</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/BrightEyes.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="tex2jax_ignore mathjax_ignore section" id="introduction">
<h1>Introduction<a class="headerlink" href="#introduction" title="Permalink to this heading"></a></h1>
<p>The BrightEyes-TTM project <a class="reference external" href="https://doi.org/10.1101/2021.10.11.463950">[1]</a> born as an offshoot of the BrighEyes project founded by the ERC in 2018 (<a class="reference external" href="https://vicidominilab.github.io/brighteyes/">Consolidator Grant, N. 818699</a>). The principal aim of the BrightEyes-TTM project is to give to any microscopy laboratory the possibility to implement and further develop single-photon microscopy. The second aim is to trigger the interest of the microscopy community, and establish the BrigthEyes-TTM as a new standard for single-photon laser scanning microscopy (LSM) experiments.</p>
<div class="figure align-center" id="id1">
<a class="reference internal image-reference" href="_images/TTM-BrightEyes-Minimal.png"><img alt="Assembly" src="_images/TTM-BrightEyes-Minimal.png" style="width: 75%;" /></a>
<p class="caption"><span class="caption-text">Fig. 1 - The BrightEyes Time-Tagging Module</span><a class="headerlink" href="#id1" title="Permalink to this image"></a></p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>In this documentation you can find everything you need to build and further modify the BrightEyes-TTM in your lab.</strong></p>
</div>
<p><strong>The source code, the open hardware, python libraries and example are available in GitHub at the following address:</strong>
<a class="reference external" href="https://github.com/VicidominiLab/BrightEyes-TTM/tree/v2.0">github.com/VicidominiLab/BrightEyes-TTM version 2.0</a></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>There are two version of BrightEyes-TTM. The article on arXiv is referred to the version v1.0, the article published is refered to the version v2.0.</strong></p>
</div>
<p>The legacy version (v1.0) is available in the branch on GitHub
<a class="reference external" href="https://github.com/VicidominiLab/BrightEyes-TTM/tree/v1.0">github.com/VicidominiLab/BrightEyes-TTM version 1.0</a></p>
<p>The BrightEyes-TTM mainly consists in a data-acquisition (DAQ) card able to implement the so-called photon time-tagging acquisition mode (Fig. 2).</p>
<div class="section" id="time-tagging">
<h2>Time-tagging<a class="headerlink" href="#time-tagging" title="Permalink to this heading"></a></h2>
<div class="figure align-center" id="id2">
<a class="reference internal image-reference" href="_images/TT_Principle.jpg"><img alt="Principle" src="_images/TT_Principle.jpg" style="width: 50%;" /></a>
<p class="caption"><span class="caption-text">Fig. 2 - Time-tagging principle.</span><a class="headerlink" href="#id2" title="Permalink to this image"></a></p>
</div>
<p>The time-tagging (TT) mode allows recording individual events and labelling each of them with a temporal signature. Typically this temporal signature denotes the delay time of the events in respect to the beginning of the experiment (absolute time). The BrightEyes TT module (TTM) is able to tag three different class of events: The photon events, i.e., a photon is registered by the detector which delivery a digital signal to the module; The sync laser events, i.e., the synchronisation signal delivered by a pulsed laser; the reference events, i.e., a signal generated by another component of the experimental setup (e.g., an actuator, a laser modulator). Starting from these temporal signatures it is possible to derive many other different temporal information. For example, for each photons event it is possible to derive the so-called start-stop time, which describe the delay of the photon event in respect to the successive sync laser event. Very important, together with the temporal signatures, the BrightEyes-TTM records also the number of the channels ( <em>ch</em> ) or inputs ( <em>l</em> ) associated to the photon or reference event. In the single-photon laser microscopy applications of our BrightEyes-TTM, the channel for the photon event describes the element of the single-photon-avalanche diode (SPAD) array detector which collected the photon, thus it can be considered a spatial signature.</p>
</div>
<div class="section" id="main-components">
<h2>Main components<a class="headerlink" href="#main-components" title="Permalink to this heading"></a></h2>
<p>The BrightEyes-TTM is based on a <a class="reference external" href="https://en.wikipedia.org/wiki/Field-programmable_gate_array">field-programmable-gate-array</a> (FPGA), which allows implementing a series of <a class="reference external" href="https://en.wikipedia.org/wiki/Time-to-digital_converter">time-to-digital converters (TDCs)</a>, i.e., the building block of the TTM. Current BrightEyes-TTM implementation allows to temporally tag single-photon events with respect to the laser sync (i.e., the start-stop time) - with 30 ps precision - and the reference events (such as pixel, line and frame signals) - with 4.2 ns precision. Because the BrightEyes-TTM is a <a class="reference external" href="https://en.wikipedia.org/wiki/VHDL">VHDL</a>/<a class="reference external" href="https://en.wikipedia.org/wiki/Verilog">Verilog</a>-based open-access project, it can be upgraded, modified, and customized by all the microscopy-makers.</p>
<p>The TTM can transfer data to a personal computer (PC) via USB 3.0 cable and can be connected to a fluorescence LSM setup, as a passive plug-n-play device, thanks to a custom interfacing connector board. As shown in the data processing examples below, the BrightEyes-TTM allows for fluorescence spectroscopy, fluorescence lifetime imaging microscopy (FLIM) [2], and for fluorescence lifetime correlation spectroscopy (FLFS) experiments [3]. More in general, the TTM can be used to fully explore the great momentum in the development of new bi-dimensional or one-dimensional asyncronous read-out SPAD array detectors [3,4].</p>
<p>The BrightEyes-TTM is composed by three main parts: the FPGA evaluation board (<a class="reference external" href="https://www.xilinx.com/products/boards-and-kits/ek-k7-kc705-g.html">Xilinx® KC705 Evaluation board</a>); the FX3 data transmission chip (<a class="reference external" href="https://www.cypress.com/documentation/development-kitsboards/cyusb3kit-003-ez-usb-fx3-superspeed-explorer-kit">EZ-USB® FX3™ SuperSpeed Explorer Kit</a> and <a class="reference external" href="https://www.cypress.com/documentation/development-kitsboards/cyusb3acc-005-fmc-interconnect-board-ez-usb-fx3-superspeed">FMC Interconnect Board for the EZ-USB® FX3™ SuperSpeed Explorer Kit</a>); a custom-made I/Os SMA-FMC daugther connector card. The three part need to be assembled (Fig. 3) following the instruction below (expand the Assembly Instuctions). Both the FX3 data transmission chip and the I/Os FMC daugther card easily interlock to the main Xilinx® FPGA board.</p>
<div class="figure align-center" id="id3">
<a class="reference internal image-reference" href="_images/Kintex7-TTM.jpg"><img alt="AssemblyK7" src="_images/Kintex7-TTM.jpg" style="width: 50%;" /></a>
<p class="caption"><span class="caption-text">Fig. 3 - BrightEyes-TTM assembly.</span><a class="headerlink" href="#id3" title="Permalink to this image"></a></p>
</div>
</div>
<div class="section" id="specifications">
<h2>Specifications<a class="headerlink" href="#specifications" title="Permalink to this heading"></a></h2>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"><p></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Single shot precision *</p></td>
<td><p><strong>30 ps</strong></p></td>
</tr>
<tr class="row-odd"><td><p>Time bin width</p></td>
<td><p>user defined (default 43 ps)</p></td>
</tr>
<tr class="row-even"><td><p>Time range **</p></td>
<td><p>not limited by hardware</p></td>
</tr>
<tr class="row-odd"><td><p>Maximum laser sync rate</p></td>
<td><p>80 MHz</p></td>
</tr>
<tr class="row-even"><td><p>Dead time</p></td>
<td><p>1 / 240 MHz = ~ 4.2ns</p></td>
</tr>
<tr class="row-odd"><td><p>Differential non-linearity</p></td>
<td><p>~ 6 % RMS</p></td>
</tr>
<tr class="row-even"><td><p>Input channels with 30 ps precision</p></td>
<td><p>21, 25, (49 under testing)</p></td>
</tr>
<tr class="row-odd"><td><p>Input channels with &lt; 4.2 ns precision</p></td>
<td><p>3</p></td>
</tr>
<tr class="row-even"><td><p>Laser SYNC channels</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<p>* Gaussan fitting sigma value</p>
<p>** Tested at 200 ns (5 MHz), 100 ns (10 MHz), 50 ns (20 MHz), 25 ns (40 MHz), 12.5 ns (80 MHz)</p>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Welcome to BrightEyes-TTM’s documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="gettingstarted.html" class="btn btn-neutral float-right" title="Getting started" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Fondazione Istituto Italiano di Tecnologia.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>